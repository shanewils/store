{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\bktes\\\\development\\\\eshop\\\\eshop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\bktes\\\\development\\\\eshop\\\\eshop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{detailsProduct}from\"../../actions/productActions\";var ProductScreen=function ProductScreen(props){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var product=productDetails.product,loading=productDetails.loading,error=productDetails.error;var dispatch=useDispatch();useEffect(function(){dispatch(detailsProduct(props.match.params.id));return function(){//\n};},[dispatch,props.match.params.id]);var handleAddToCart=function handleAddToCart(){props.history.push(\"/cart/\"+props.match.params.id+\"?qty=\"+qty);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"back-to-result\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Back to results\")),loading?/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\"):error?/*#__PURE__*/React.createElement(\"div\",null,error,\" \"):/*#__PURE__*/React.createElement(\"div\",{className:\"details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"details-image\"},/*#__PURE__*/React.createElement(\"img\",{src:product.image,alt:\"{product.name}\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"details-info\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"h4\",null,product.name)),/*#__PURE__*/React.createElement(\"li\",null,product.rating,\" Stars (\",product.numReviews,\" Reviews)\"),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Price: \\xA3\",product.price)),/*#__PURE__*/React.createElement(\"li\",null,\"Description:\",/*#__PURE__*/React.createElement(\"div\",null,product.description)))),/*#__PURE__*/React.createElement(\"div\",{className:\"details-action\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\"Price: \\xA3\",product.price),/*#__PURE__*/React.createElement(\"li\",null,\"Status: \",product.countInStock>0?'In Stock':'Out of Stock'),/*#__PURE__*/React.createElement(\"li\",null,\"Qty: \",/*#__PURE__*/React.createElement(\"select\",{value:qty,onChange:function onChange(e){setQty(e.target.value);}},_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x+1,value:x+1},x+1);}))),/*#__PURE__*/React.createElement(\"li\",null,product.countInStock>0&&/*#__PURE__*/React.createElement(\"button\",{onClick:handleAddToCart,className:\"button primary\"},\"Add to Cart\"))))));};export default ProductScreen;","map":{"version":3,"sources":["C:/Users/bktes/development/eshop/eshop/frontend/src/Screens/ProductScreen/ProductScreen.jsx"],"names":["React","useEffect","useState","Link","useDispatch","useSelector","detailsProduct","ProductScreen","props","qty","setQty","productDetails","state","product","loading","error","dispatch","match","params","id","handleAddToCart","history","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { detailsProduct } from \"../../actions/productActions\";\n\nconst ProductScreen = (props) => {\n  const [qty, setQty] = useState(1);\n  const productDetails = useSelector(state => state.productDetails);\n  const { product, loading, error } = productDetails;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(detailsProduct(props.match.params.id));\n    return () => {\n      //\n    };\n  }, [dispatch, props.match.params.id])\n\n  const handleAddToCart = () => {\n    props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty)\n  }\n\n  return <div>\n    <div className=\"back-to-result\">\n      <Link to=\"/\">Back to results</Link>\n    </div>\n    {loading ? <div>Loading...</div> :\n      error ? <div>{error} </div> :\n      (\n        <div className=\"details\">\n          <div className=\"details-image\">\n            <img src={product.image} alt=\"{product.name}\"></img>\n          </div>\n          <div className=\"details-info\">\n            <ul>\n              <li>\n                <h4>{product.name}</h4>\n              </li>\n              <li>\n                {product.rating} Stars ({product.numReviews} Reviews)\n              </li>\n              <li>\n                <b>Price: £{product.price}</b>\n              </li>\n              <li>\n                Description:\n                <div>\n                  {product.description}\n                </div>\n              </li>\n            </ul>\n          </div>\n          <div className=\"details-action\">\n            <ul>\n              <li>\n                Price: £{product.price}\n              </li>\n              <li>\n                Status: {product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\n              </li>\n              <li>\n                Qty: <select value={qty} onChange={(e) => { setQty(e.target.value)}}>\n                  {[...Array(product.countInStock).keys()].map(x=>\n                    <option key={x + 1} value={x + 1}>{x + 1}</option>\n                    )}\n                </select>\n              </li>\n              <li>\n              {product.countInStock > 0 && (\n                    <button\n                      onClick={handleAddToCart}\n                      className=\"button primary\"\n                    >\n                      Add to Cart\n                    </button>\n                  )}\n              </li>\n            </ul>\n          </div>\n        </div>\n      )\n    }\n     \n  </div>\n}\n\nexport default ProductScreen;\n"]},"metadata":{},"sourceType":"module"}