{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{listOrders,deleteOrder}from'../actions/orderActions';import{Link}from'react-router-dom';var OrdersScreen=function OrdersScreen(props){var orderList=useSelector(function(state){return state.orderList;});var loading=orderList.loading,orders=orderList.orders;var orderDelete=useSelector(function(state){return state.orderDelete;});var successDelete=orderDelete.success;var dispatch=useDispatch();useEffect(function(){dispatch(listOrders());return function(){// \n};},[successDelete,dispatch]);var deleteHandler=function deleteHandler(order){dispatch(deleteOrder(order._id));};return loading?/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\"):/*#__PURE__*/React.createElement(\"div\",{className:\"content content-margined\"},/*#__PURE__*/React.createElement(\"div\",{className:\"order-header\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Orders\")),/*#__PURE__*/React.createElement(\"div\",{className:\"orders-list\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"DATE\"),/*#__PURE__*/React.createElement(\"th\",null,\"TOTAL\"),/*#__PURE__*/React.createElement(\"th\",null,\"USER\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID\"),/*#__PURE__*/React.createElement(\"th\",null,\"PAID AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED\"),/*#__PURE__*/React.createElement(\"th\",null,\"DELIVERED AT\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,orders.map(function(order){return/*#__PURE__*/React.createElement(\"tr\",{key:order._id},/*#__PURE__*/React.createElement(\"td\",null,order._id),/*#__PURE__*/React.createElement(\"td\",null,order.createdAt),/*#__PURE__*/React.createElement(\"td\",null,order.totalPrice),/*#__PURE__*/React.createElement(\"td\",null,order.user.name),/*#__PURE__*/React.createElement(\"td\",null,order.isPaid.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.paidAt),/*#__PURE__*/React.createElement(\"td\",null,order.isDelivered.toString()),/*#__PURE__*/React.createElement(\"td\",null,order.deliveredAt),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"/order/\"+order._id,className:\"button\"},\"Details\"),' ',/*#__PURE__*/React.createElement(\"button\",{className:\"button-secondary\",onClick:function onClick(){return deleteHandler(order);}},\"Delete\")));})))));};export default OrdersScreen;","map":{"version":3,"sources":["C:/Users/bktes/development/eshop/eshop/frontend/src/Screens/OrdersScreen.js"],"names":["React","useEffect","useDispatch","useSelector","listOrders","deleteOrder","Link","OrdersScreen","props","orderList","state","loading","orders","orderDelete","successDelete","success","dispatch","deleteHandler","order","_id","map","createdAt","totalPrice","user","name","isPaid","toString","paidAt","isDelivered","deliveredAt"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,yBAAxC,CACA,OAASC,IAAT,KAAqB,kBAArB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,GAAMC,CAAAA,SAAS,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACD,SAAjB,EAAD,CAA7B,CAD8B,GAEtBE,CAAAA,OAFsB,CAEFF,SAFE,CAEtBE,OAFsB,CAEbC,MAFa,CAEFH,SAFE,CAEbG,MAFa,CAI9B,GAAMC,CAAAA,WAAW,CAAGV,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACG,WAAjB,EAAD,CAA/B,CAJ8B,GAKZC,CAAAA,aALY,CAKOD,WALP,CAKrBE,OALqB,CAM9B,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAEAD,SAAS,CAAC,UAAM,CAEde,QAAQ,CAACZ,UAAU,EAAX,CAAR,CACA,MAAO,WAAM,CACX;AACD,CAFD,CAGD,CANQ,CAMN,CAACU,aAAD,CAAgBE,QAAhB,CANM,CAAT,CAQA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BF,QAAQ,CAACX,WAAW,CAACa,KAAK,CAACC,GAAP,CAAZ,CAAR,CACD,CAFD,CAIA,MAAOR,CAAAA,OAAO,cAAE,4CAAF,cACd,2BAAK,SAAS,CAAC,0BAAf,eAEE,2BAAK,SAAS,CAAC,cAAf,eACE,uCADF,CAFF,cAME,2BAAK,SAAS,CAAC,aAAf,eACE,6BAAO,SAAS,CAAC,OAAjB,eACE,8CACE,2CACE,mCADF,cAEE,qCAFF,cAGE,sCAHF,cAIE,qCAJF,cAKE,qCALF,cAME,wCANF,cAOE,0CAPF,cAQE,6CARF,cASE,wCATF,CADF,CADF,cAcE,iCACGC,MAAM,CAACQ,GAAP,CAAW,SAACF,KAAD,qBACV,0BAAI,GAAG,CAAEA,KAAK,CAACC,GAAf,eACE,8BAAKD,KAAK,CAACC,GAAX,CADF,cAEE,8BAAKD,KAAK,CAACG,SAAX,CAFF,cAGE,8BAAKH,KAAK,CAACI,UAAX,CAHF,cAIE,8BAAKJ,KAAK,CAACK,IAAN,CAAWC,IAAhB,CAJF,cAKE,8BAAKN,KAAK,CAACO,MAAN,CAAaC,QAAb,EAAL,CALF,cAME,8BAAKR,KAAK,CAACS,MAAX,CANF,cAOE,8BAAKT,KAAK,CAACU,WAAN,CAAkBF,QAAlB,EAAL,CAPF,cAQE,8BAAKR,KAAK,CAACW,WAAX,CARF,cASE,2CACE,oBAAC,IAAD,EAAM,EAAE,CAAE,UAAYX,KAAK,CAACC,GAA5B,CAAiC,SAAS,CAAC,QAA3C,YADF,CAEG,GAFH,cAGE,8BAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAE,yBAAMF,CAAAA,aAAa,CAACC,KAAD,CAAnB,EAA9C,WAHF,CATF,CADU,EAAX,CADH,CAdF,CADF,CANF,CADA,CA8CD,CAlED,CAoEA,cAAeX,CAAAA,YAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { listOrders, deleteOrder } from '../actions/orderActions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst OrdersScreen = (props) => {\r\n  const orderList = useSelector((state) => state.orderList);\r\n  const { loading, orders } = orderList;\r\n\r\n  const orderDelete = useSelector((state) => state.orderDelete);\r\n  const {  success: successDelete, } = orderDelete;\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n   \r\n    dispatch(listOrders());\r\n    return () => {\r\n      // \r\n    };\r\n  }, [successDelete, dispatch]);\r\n\r\n  const deleteHandler = (order) => {\r\n    dispatch(deleteOrder(order._id));\r\n  }\r\n\r\n  return loading? <div>Loading...</div> : \r\n  <div className=\"content content-margined\">\r\n\r\n    <div className=\"order-header\">\r\n      <h3>Orders</h3>\r\n    </div>\r\n    \r\n    <div className=\"orders-list\">\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>DATE</th> \r\n            <th>TOTAL</th>\r\n            <th>USER</th>\r\n            <th>PAID</th>\r\n            <th>PAID AT</th>\r\n            <th>DELIVERED</th>\r\n            <th>DELIVERED AT</th>\r\n            <th>ACTIONS</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {orders.map((order) => (\r\n            <tr key={order._id}>\r\n              <td>{order._id}</td>\r\n              <td>{order.createdAt}</td>\r\n              <td>{order.totalPrice}</td>\r\n              <td>{order.user.name}</td>\r\n              <td>{order.isPaid.toString()}</td>\r\n              <td>{order.paidAt}</td>\r\n              <td>{order.isDelivered.toString()}</td>\r\n              <td>{order.deliveredAt}</td>\r\n              <td>\r\n                <Link to={\"/order/\" + order._id} className=\"button\">Details</Link>\r\n                {' '}\r\n                <button className=\"button-secondary\" onClick={() => deleteHandler(order)}>\r\n                Delete\r\n              </button> \r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>;\r\n}\r\n\r\nexport default OrdersScreen;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}